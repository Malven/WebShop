@model ZTn.BNet.D3.Careers.Career
@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer Localizer
@{
    ViewData[ "Title" ] = "External Api";
}
<div class="row">
    <div class="col-lg-5">
        <h2>@Localizer[ "Diablo 3 API" ]</h2>
        <form asp-controller="ExternalApi" asp-action="Index" class="form-inline">
            <div class="form-group">
                <label class="sr-only" for="bnetTag">B.Net Tag</label>
                <div class="input-group">
                    <div class="input-group-addon">B.Net Tag</div>
                    <input type="text" class="form-control" name="id" id="bnetTag" placeholder="name#1234">
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Look up</button>
        </form>
    </div>
</div>
@if( Model != null ) {
    <div class="row">
        <div class="col-lg-12">
            <h4>BattleTag: <span class="text-success">@Model.BattleTag.Id</span></h4>
            <h4>Paragon Level: <small>@Model.ParagonLevel</small></h4>
            <h4>Last Hero played: <small>@Model.Heroes.FirstOrDefault( x => x.Id == Model.LastHeroPlayed ).Name the @Model.Heroes.FirstOrDefault( x => x.Id == Model.LastHeroPlayed ).HeroClass</small></h4>
            <h4>All heroes:</h4>
            @foreach( var hero in Model.Heroes ) {
                <p>@hero.Name level @hero.Level the @hero.HeroClass </p>
            }
        </div>
    </div>
}